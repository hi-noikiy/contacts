{"version":3,"sources":["webpack:///static/js/0.afb98ee3fb133707db8a.js","webpack:///EditContact.vue","webpack:///./src/pages/contactsManage/EditContact.vue?53c1","webpack:///./src/pages/contactsManage/EditContact.vue?e0a7","webpack:///./src/pages/contactsManage/EditContact.vue?5e88","webpack:///./src/pages/contactsManage/EditContact.vue"],"names":["webpackJsonp","121","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","n","__WEBPACK_IMPORTED_MODULE_1_vuex__","data","id","alert","title","show","variant","firstNameState","lastNameState","emailState","descriptionState","form","first_name","last_name","email","description","items","text","to","active","created","this","$route","params","getContactByAxios","methods","i","validateForm","length","onSubmit","evt","_this","preventDefault","updateContactById","contact","success","setTimeout","error","msg","addContact","_this2","getContactById","onBack","$router","push","125","exports","version","sources","names","mappings","file","sourcesContent","sourceRoot","132","content","locals","140","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","deck","header","header-tag","on","submit","label","label-for","type","state","placeholder","model","callback","$$v","trim","expression","click","staticRenderFns","33","injectStyle","ssrContext","Component"],"mappings":"AAAAA,cAAc,IAERC,IACA,SAAUC,EAAQC,EAAqBC,GAE7C,YACAC,QAAOC,eAAeH,EAAqB,cAAgBI,OAAO,GAC7C,IAAIC,GAA8DJ,EAAoB,IAClFK,EAAsEL,EAAoBM,EAAEF,GAC5FG,EAAqCP,EAAoB,EC4DlFD,GAAA,SDYIS,KAAM,WACF,OACIC,GCVZ,EDWYC,OACIC,MCVhB,GDWgBC,MCVhB,EDWgBC,QCThB,IDWYC,eCVZ,KDWYC,cCVZ,KDWYC,WCVZ,KDWYC,iBCVZ,KDWYC,MACIT,GCVhB,GDWgBU,WCVhB,GDWgBC,UCVhB,GDWgBC,MCVhB,GDWgBC,YCThB,IDWYC,QACIC,KCThB,KDUgBC,GCRhB,MDUgBD,KCRhB,QDSgBC,GCPhB,oBDSgBD,KCPhB,QDQgBC,GCPhB,IDQgBC,QCJhB,MDQIC,QAAS,WACLC,KAAKnB,GAAKmB,KAAKC,OAAOC,OCN9BrB,GDQYmB,KAAKnB,IACLmB,KCNZG,qBAGAC,QAAA3B,OAAAL,EAAAiC,EAAA1B,EAAA,IAEA,aACA,iBAEA,uBDIQ2B,aAAc,WACV,MAAIN,MAAKV,KAAKC,WAAWgB,QAAU,GAC/BP,KAAKd,eCFrB,KDGoBc,KAAKV,KAAKE,UAAUe,QAAU,GAC9BP,KAAKb,cCFzB,KDGwBa,KAAKV,KAAKG,MAAMc,QAAU,GAC1BP,KAAKZ,WCF7B,KDG4BY,KAAKV,KAAKI,YAAYa,QAAU,GAChCP,KAAKX,iBCFjC,MACA,IDI4BW,KAAKX,iBCFjC,WACA,KDKwBW,KAAKZ,WCF7B,WACA,KDKoBY,KAAKb,cCFzB,WACA,KDKgBa,KAAKd,eCFrB,WACA,IDKQsB,SAAU,SAAkBC,GCFpC,GAAAC,GAAAV,IDKYS,GCJZE,iBDKgBX,KAAKM,iBAEDN,KAAKnB,GACLmB,KAAKY,mBACDC,QAASb,KCJjCV,KDMwBwB,QAAS,WACLJ,EAAM5B,MAAME,MCJxC,EDK4B0B,EAAM5B,MAAMC,MCJxC,ODK4B2B,EAAM5B,MAAMG,QCJxC,UDK4B8B,WAAW,WACPL,EAAM5B,MAAME,MCJ5C,GACA,MDMwBgC,MAAO,SAAeC,GAClBP,EAAM5B,MAAME,MCJxC,EDK4B0B,EAAM5B,MAAMC,MCJxC,wBDK4B2B,EAAM5B,MAAMG,QCJxC,SDK4B8B,WAAW,WACPL,EAAM5B,MAAME,MCJ5C,GACA,QDUwBgB,KAAKkB,YACDL,QAASb,KCJrCV,KDM4BwB,QAAS,WACLJ,EAAM5B,MAAME,MCJ5C,EDKgC0B,EAAM5B,MAAMC,MCJ5C,ODKgC2B,EAAM5B,MAAMG,QCJ5C,UDKgC8B,WAAW,WACPL,EAAM5B,MAAME,MCJhD,GACA,MDM4BgC,MAAO,SAAeC,GAClBP,EAAM5B,MAAME,MCJ5C,EDKgC0B,EAAM5B,MAAMC,MCJ5C,wBDKgC2B,EAAM5B,MAAMG,QCJ5C,SDKgC8B,WAAW,WACPL,EAAM5B,MAAME,MCJhD,GACA,QDQgBgB,KAAKV,MACDT,GCJpB,GDKoBU,WCJpB,GDKoBC,UCJpB,GDKoBC,MCJpB,GDKoBC,YCHpB,MDOQS,kBAAmB,WCJ3B,GAAAgB,GAAAnB,IDOYA,MAAKoB,gBACDvC,GAAImB,KCNpBnB,GDQgBiC,QAAS,SAAiBD,GACtBM,EAAO7B,KCN3BuB,GDQgBG,MAAO,SAAeC,GAClBE,EAAOrC,MAAME,MCNjC,EDOoBmC,EAAOrC,MAAMC,MCNjC,wBDOoBoC,EAAOrC,MAAMG,QCNjC,SDOoB8B,WAAW,WACPI,EAAOrC,MAAME,MCNrC,GACA,SDUQqC,OAAQ,WACJrB,KAAKsB,QAAQC,KCNzB,wBDaMC,IACA,SAAUtD,EAAQuD,EAASrD,GE9OjCqD,EAAAvD,EAAAuD,QAAArD,EAAA,SAKAqD,EAAAF,MAAArD,EAAAmC,EAAA,uIAA8J,IAAQqB,QAAA,EAAAC,SAAA,iFAAAC,SAAAC,SAAA,qGAAAC,KAAA,kBAAAC,gBAAA,yLAAkcC,WAAA,OFuPlmBC,IACA,SAAU/D,EAAQuD,EAASrD,GG1PjC,GAAA8D,GAAA9D,EAAA,IACA,iBAAA8D,SAAAhE,EAAAmC,EAAA6B,EAAA,MACAA,EAAAC,SAAAjE,EAAAuD,QAAAS,EAAAC,OAEA/D,GAAA,gBAAA8D,GAAA,IHmQME,IACA,SAAUlE,EAAQuD,GI3QxBvD,EAAAuD,SAAgBY,OAAA,WAAmB,GAAAC,GAAAtC,KAAauC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,WACAE,YAAA,mBACGF,EAAA,gBACHE,YAAA,eACAC,OACAjD,MAAA2C,EAAA3C,SAEG2C,EAAAO,GAAA,KAAAJ,EAAA,WACHE,YAAA,cACGF,EAAA,OACHE,YAAA,QACGF,EAAA,OACHE,YAAA,yDACGF,EAAA,WACHG,OACA3D,QAAAqD,EAAAxD,MAAAG,QACAD,KAAAsD,EAAAxD,MAAAE,QAEGsD,EAAAO,GAAAP,EAAAQ,GAAAR,EAAAxD,MAAAC,UAAAuD,EAAAO,GAAA,KAAAJ,EAAA,gBACHG,OACAG,KAAA,MAEGN,EAAA,UACHG,OACAI,OAAA,QACAC,aAAA,YAEGR,EAAA,UACHS,IACAC,OAAAb,EAAA9B,YAEGiC,EAAA,gBACHG,OACAQ,MAAA,KACAC,YAAA,eAEGZ,EAAA,gBACHG,OACA/D,GAAA,YACAyE,KAAA,OACAC,MAAAjB,EAAApD,eACAsE,YAAA,OAEAC,OACAlF,MAAA+D,EAAAhD,KAAA,WACAoE,SAAA,SAAAC,GACArB,EAAAhD,KAAAC,WAAA,gBAAAoE,KAAAC,OAAAD,GAEAE,WAAA,qBAEGvB,EAAAO,GAAA,KAAAJ,EAAA,mBAAAH,EAAAO,GAAA,2FAAAP,EAAAO,GAAA,KAAAJ,EAAA,gBACHG,OACAQ,MAAA,KACAC,YAAA,cAEGZ,EAAA,gBACHG,OACA/D,GAAA,WACAyE,KAAA,OACAC,MAAAjB,EAAAnD,cACAqE,YAAA,OAEAC,OACAlF,MAAA+D,EAAAhD,KAAA,UACAoE,SAAA,SAAAC,GACArB,EAAAhD,KAAAE,UAAA,gBAAAmE,KAAAC,OAAAD,GAEAE,WAAA,oBAEGvB,EAAAO,GAAA,KAAAJ,EAAA,mBAAAH,EAAAO,GAAA,2FAAAP,EAAAO,GAAA,KAAAJ,EAAA,gBACHG,OACAQ,MAAA,MACAC,YAAA,WAEGZ,EAAA,gBACHG,OACA/D,GAAA,QACAyE,KAAA,QACAC,MAAAjB,EAAAlD,WACAoE,YAAA,QAEAC,OACAlF,MAAA+D,EAAAhD,KAAA,MACAoE,SAAA,SAAAC,GACArB,EAAAhD,KAAAG,MAAA,gBAAAkE,KAAAC,OAAAD,GAEAE,WAAA,gBAEGvB,EAAAO,GAAA,KAAAJ,EAAA,mBAAAH,EAAAO,GAAA,+FAAAP,EAAAO,GAAA,KAAAJ,EAAA,gBACHG,OACAQ,MAAA,MACAC,YAAA,kBAEGZ,EAAA,gBACHG,OACA/D,GAAA,eACA0E,MAAAjB,EAAAjD,iBACAmE,YAAA,QAEAC,OACAlF,MAAA+D,EAAAhD,KAAA,YACAoE,SAAA,SAAAC,GACArB,EAAAhD,KAAAI,YAAA,gBAAAiE,KAAAC,OAAAD,GAEAE,WAAA,sBAEGvB,EAAAO,GAAA,KAAAJ,EAAA,mBAAAH,EAAAO,GAAA,2FAAAP,EAAAO,GAAA,KAAAJ,EAAA,YACHG,OACAU,KAAA,SACArE,QAAA,aAEGqD,EAAAO,GAAA,QAAAP,EAAAO,GAAA,KAAAJ,EAAA,YACHG,OACA3D,QAAA,QAEAiE,IACAY,MAAAxB,EAAAjB,UAEGiB,EAAAO,GAAA,iCACFkB,qBJiRKC,GACA,SAAU9F,EAAQuD,EAASrD,GK1YjC,QAAA6F,GAAAC,GACA9F,EAAA,KAEA,GAAA+F,GAAA/F,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA6F,EAEA,KAEA,KAGA/F,GAAAuD,QAAA0C,EAAA1C","file":"static/js/0.afb98ee3fb133707db8a.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 121:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(4);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        return {\n            id: 0,\n            alert: {\n                title: '',\n                show: false,\n                variant: ''\n            },\n            firstNameState: null,\n            lastNameState: null,\n            emailState: null,\n            descriptionState: null,\n            form: {\n                id: '',\n                first_name: '',\n                last_name: '',\n                email: '',\n                description: ''\n            },\n            items: [{\n                text: '首页',\n                to: '/'\n            }, {\n                text: '联系人管理',\n                to: '/contactsManage'\n            }, {\n                text: '添加联系人',\n                to: '#',\n                active: true\n            }]\n        };\n    },\n    created: function created() {\n        this.id = this.$route.params.id;\n        //根据id来判断是添加还是更新\n        if (this.id) {\n            this.getContactByAxios();\n        }\n    },\n\n    methods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"b\" /* mapActions */])(['addContact', 'getContactById', 'updateContactById']), {\n        // 验证表单\n        validateForm: function validateForm() {\n            if (this.form.first_name.length >= 1) {\n                this.firstNameState = null;\n                if (this.form.last_name.length >= 1) {\n                    this.lastNameState = null;\n                    if (this.form.email.length >= 1) {\n                        this.emailState = null;\n                        if (this.form.description.length >= 1) {\n                            this.descriptionState = null;\n                            return true;\n                        } else {\n                            this.descriptionState = 'invalid';\n                            return false;\n                        }\n                    } else {\n                        this.emailState = 'invalid';\n                        return false;\n                    }\n                } else {\n                    this.lastNameState = 'invalid';\n                    return false;\n                }\n            } else {\n                this.firstNameState = 'invalid';\n                return false;\n            }\n        },\n        onSubmit: function onSubmit(evt) {\n            var _this = this;\n\n            evt.preventDefault();\n            if (this.validateForm()) {\n                // 更新\n                if (this.id) {\n                    this.updateContactById({\n                        contact: this.form,\n                        //添加成功产生的回调函数\n                        success: function success() {\n                            _this.alert.show = true;\n                            _this.alert.title = '更新成功';\n                            _this.alert.variant = 'success';\n                            setTimeout(function () {\n                                _this.alert.show = false;\n                            }, 5000);\n                        },\n                        error: function error(msg) {\n                            _this.alert.show = true;\n                            _this.alert.title = '服务器无响应，请检查您的服务器是否运行正常';\n                            _this.alert.variant = 'danger';\n                            setTimeout(function () {\n                                _this.alert.show = false;\n                            }, 5000);\n                        }\n                    });\n                }\n                // 添加\n                else {\n                        this.addContact({\n                            contact: this.form,\n                            //添加成功产生的回调函数\n                            success: function success() {\n                                _this.alert.show = true;\n                                _this.alert.title = '添加成功';\n                                _this.alert.variant = 'success';\n                                setTimeout(function () {\n                                    _this.alert.show = false;\n                                }, 5000);\n                            },\n                            error: function error(msg) {\n                                _this.alert.show = true;\n                                _this.alert.title = '服务器无响应，请检查您的服务器是否运行正常';\n                                _this.alert.variant = 'danger';\n                                setTimeout(function () {\n                                    _this.alert.show = false;\n                                }, 5000);\n                            }\n                        });\n                    }\n                this.form = {\n                    id: '',\n                    first_name: '',\n                    last_name: '',\n                    email: '',\n                    description: ''\n                };\n            }\n        },\n        getContactByAxios: function getContactByAxios() {\n            var _this2 = this;\n\n            this.getContactById({\n                id: this.id,\n                //获取联系人成功后，执行回调函数\n                success: function success(contact) {\n                    _this2.form = contact;\n                },\n                error: function error(msg) {\n                    _this2.alert.show = true;\n                    _this2.alert.title = '服务器无响应，请检查您的服务器是否运行正常';\n                    _this2.alert.variant = 'danger';\n                    setTimeout(function () {\n                        _this2.alert.show = false;\n                    }, 5000);\n                }\n            });\n        },\n        onBack: function onBack() {\n            this.$router.push('/contactsManage');\n        }\n    })\n});\n\n/***/ }),\n\n/***/ 125:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(111)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".edit-container{margin-top:60px}.edit-container .b-breadcrumb{border-radius:0;position:fixed;top:56px;right:0;left:250px;z-index:99}\", \"\", {\"version\":3,\"sources\":[\"/Users/zhangwei/Work/Github/contacts/src/pages/contactsManage/EditContact.vue\"],\"names\":[],\"mappings\":\"AACA,gBACE,eAAiB,CAClB,AACD,8BACE,gBAAiB,AACjB,eAAgB,AAChB,SAAU,AACV,QAAS,AACT,WAAY,AACZ,UAAY,CACb\",\"file\":\"EditContact.vue\",\"sourcesContent\":[\"\\n.edit-container {\\n  margin-top: 60px;\\n}\\n.edit-container .b-breadcrumb {\\n  border-radius: 0;\\n  position: fixed;\\n  top: 56px;\\n  right: 0;\\n  left: 250px;\\n  z-index: 99;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 132:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(125);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(112)(\"66bf0669\", content, true);\n\n/***/ }),\n\n/***/ 140:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    staticClass: \"edit-container\"\n  }, [_c('b-breadcrumb', {\n    staticClass: \"b-breadcrumb\",\n    attrs: {\n      \"items\": _vm.items\n    }\n  }), _vm._v(\" \"), _c('section', {\n    staticClass: \"container\"\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-xl-5 col-lg-6 col-md-12 col-sm-12 col-12 mr-auto\"\n  }, [_c('b-alert', {\n    attrs: {\n      \"variant\": _vm.alert.variant,\n      \"show\": _vm.alert.show\n    }\n  }, [_vm._v(_vm._s(_vm.alert.title))]), _vm._v(\" \"), _c('b-card-group', {\n    attrs: {\n      \"deck\": \"\"\n    }\n  }, [_c('b-card', {\n    attrs: {\n      \"header\": \"联系人信息\",\n      \"header-tag\": \"header\"\n    }\n  }, [_c('b-form', {\n    on: {\n      \"submit\": _vm.onSubmit\n    }\n  }, [_c('b-form-group', {\n    attrs: {\n      \"label\": \"姓:\",\n      \"label-for\": \"firstName\"\n    }\n  }, [_c('b-form-input', {\n    attrs: {\n      \"id\": \"firstName\",\n      \"type\": \"text\",\n      \"state\": _vm.firstNameState,\n      \"placeholder\": \"输入姓\"\n    },\n    model: {\n      value: (_vm.form.first_name),\n      callback: function($$v) {\n        _vm.form.first_name = (typeof $$v === 'string' ? $$v.trim() : $$v)\n      },\n      expression: \"form.first_name\"\n    }\n  }), _vm._v(\" \"), _c('b-form-feedback', [_vm._v(\"\\n                                    请输入至少1个字符\\n                                \")])], 1), _vm._v(\" \"), _c('b-form-group', {\n    attrs: {\n      \"label\": \"名:\",\n      \"label-for\": \"lastName\"\n    }\n  }, [_c('b-form-input', {\n    attrs: {\n      \"id\": \"lastName\",\n      \"type\": \"text\",\n      \"state\": _vm.lastNameState,\n      \"placeholder\": \"输入名\"\n    },\n    model: {\n      value: (_vm.form.last_name),\n      callback: function($$v) {\n        _vm.form.last_name = (typeof $$v === 'string' ? $$v.trim() : $$v)\n      },\n      expression: \"form.last_name\"\n    }\n  }), _vm._v(\" \"), _c('b-form-feedback', [_vm._v(\"\\n                                    请输入至少1个字符\\n                                \")])], 1), _vm._v(\" \"), _c('b-form-group', {\n    attrs: {\n      \"label\": \"邮箱:\",\n      \"label-for\": \"email\"\n    }\n  }, [_c('b-form-input', {\n    attrs: {\n      \"id\": \"email\",\n      \"type\": \"email\",\n      \"state\": _vm.emailState,\n      \"placeholder\": \"输入邮箱\"\n    },\n    model: {\n      value: (_vm.form.email),\n      callback: function($$v) {\n        _vm.form.email = (typeof $$v === 'string' ? $$v.trim() : $$v)\n      },\n      expression: \"form.email\"\n    }\n  }), _vm._v(\" \"), _c('b-form-feedback', [_vm._v(\"\\n                                    邮箱输入不正确，请重新输入\\n                                \")])], 1), _vm._v(\" \"), _c('b-form-group', {\n    attrs: {\n      \"label\": \"简介:\",\n      \"label-for\": \"introduction\"\n    }\n  }, [_c('b-form-input', {\n    attrs: {\n      \"id\": \"introduction\",\n      \"state\": _vm.descriptionState,\n      \"placeholder\": \"输入简介\"\n    },\n    model: {\n      value: (_vm.form.description),\n      callback: function($$v) {\n        _vm.form.description = (typeof $$v === 'string' ? $$v.trim() : $$v)\n      },\n      expression: \"form.description\"\n    }\n  }), _vm._v(\" \"), _c('b-form-feedback', [_vm._v(\"\\n                                    请输入至少1个字符\\n                                \")])], 1), _vm._v(\" \"), _c('b-button', {\n    attrs: {\n      \"type\": \"submit\",\n      \"variant\": \"primary\"\n    }\n  }, [_vm._v(\"保存\")]), _vm._v(\" \"), _c('b-button', {\n    attrs: {\n      \"variant\": \"link\"\n    },\n    on: {\n      \"click\": _vm.onBack\n    }\n  }, [_vm._v(\"返回\")])], 1)], 1)], 1)], 1)])])], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 33:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(132)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(121),\n  /* template */\n  __webpack_require__(140),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/0.afb98ee3fb133707db8a.js","<template>\n    <section class=\"edit-container\">\n       <b-breadcrumb class=\"b-breadcrumb\" :items=\"items\"/>\n       \n       <section class=\"container\">\n            <div class=\"row\">\n                <div class=\"col-xl-5 col-lg-6 col-md-12 col-sm-12 col-12 mr-auto\">\n                    <b-alert :variant=\"alert.variant\" :show=\"alert.show\">{{alert.title}}</b-alert>\n                    <b-card-group deck>\n                        <b-card header=\"联系人信息\"\n                                header-tag=\"header\">\n                            <b-form @submit=\"onSubmit\">\n                                <b-form-group label=\"姓:\" label-for=\"firstName\">\n                                    <b-form-input id=\"firstName\"\n                                                type=\"text\" \n                                                v-model.trim=\"form.first_name\" \n                                                :state=\"firstNameState\"\n                                                placeholder=\"输入姓\"\n                                    ></b-form-input>\n                                    <b-form-feedback>\n                                        请输入至少1个字符\n                                    </b-form-feedback>\n                                </b-form-group>\n                                <b-form-group label=\"名:\" label-for=\"lastName\">\n                                    <b-form-input id=\"lastName\"\n                                                type=\"text\" \n                                                :state=\"lastNameState\"\n                                                v-model.trim=\"form.last_name\" \n                                                placeholder=\"输入名\"\n                                    ></b-form-input>\n                                    <b-form-feedback>\n                                        请输入至少1个字符\n                                    </b-form-feedback>\n                                </b-form-group>\n                                <b-form-group label=\"邮箱:\" label-for=\"email\">\n                                    <b-form-input id=\"email\"\n                                                type=\"email\" \n                                                :state=\"emailState\"\n                                                v-model.trim=\"form.email\" \n                                                placeholder=\"输入邮箱\"\n                                    ></b-form-input>\n                                    <b-form-feedback>\n                                        邮箱输入不正确，请重新输入\n                                    </b-form-feedback>\n                                </b-form-group>\n                                <b-form-group label=\"简介:\" label-for=\"introduction\">\n                                    <b-form-input id=\"introduction\"\n                                                :state=\"descriptionState\"\n                                                v-model.trim=\"form.description\"\n                                                placeholder=\"输入简介\">\n                                    </b-form-input>\n                                    <b-form-feedback>\n                                        请输入至少1个字符\n                                    </b-form-feedback>\n                                </b-form-group>\n                            </b-form-group>\n                            <b-button type=\"submit\" variant=\"primary\">保存</b-button>\n                            <b-button variant=\"link\" @click=\"onBack\">返回</b-button>\n                        </b-form>\n                        </b-card>\n                    </b-card-group>                    \n                </div>\n            </div>\n       </section>\n    </section>\n</template>\n<script>\n    import {mapActions} from 'vuex'\n\n    export default{\n        data(){\n            return {\n                id:0,\n                alert:{\n                    title:'',\n                    show:false,\n                    variant:''\n                },\n                firstNameState:null,\n                lastNameState:null,\n                emailState:null,\n                descriptionState:null,\n                form: {\n                    id:'',\n                    first_name:'',\n                    last_name:'',\n                    email: '',\n                    description: '',\n                },\n                items: [\n                    {\n                        text: '首页',\n                        to: '/',\n                    }, \n                    {\n                        text: '联系人管理',\n                        to: '/contactsManage'\n                    },\n                    {\n                        text: '添加联系人',\n                        to: '#',\n                        active: true\n                    }\n                ],\n            }\n        },\n        created(){\n            this.id = this.$route.params.id;\n            //根据id来判断是添加还是更新\n            if(this.id){\n                this.getContactByAxios();\n            }\n        },\n        methods: {\n            ...mapActions([\n                'addContact',\n                'getContactById',\n                'updateContactById'\n            ]),\n            // 验证表单\n            validateForm(){\n                if(this.form.first_name.length>=1){\n                    this.firstNameState = null;\n                    if(this.form.last_name.length >= 1){\n                        this.lastNameState = null;\n                        if(this.form.email.length>=1){\n                            this.emailState = null;\n                            if(this.form.description.length >= 1){\n                                this.descriptionState=null;\n                                return true;\n                            }else{\n                                this.descriptionState='invalid'\n                                return false;\n                            }\n                        }else{\n                            this.emailState = 'invalid';\n                            return false;\n                        }\n                    }else{\n                        this.lastNameState='invalid';\n                        return false;\n                    }\n                }else{\n                    this.firstNameState='invalid';\n                    return false;\n                }\n            },\n            onSubmit(evt) {\n                evt.preventDefault();\n                if(this.validateForm()){     \n                    // 更新\n                    if(this.id){\n                        this.updateContactById({\n                            contact:this.form,\n                            //添加成功产生的回调函数\n                            success:()=>{\n                                this.alert.show = true;\n                                this.alert.title ='更新成功';\n                                this.alert.variant = 'success';\n                                setTimeout(()=>{\n                                    this.alert.show=false;\n                                },5000)\n                            },\n                            error:(msg)=>{\n                                this.alert.show = true;\n                                this.alert.title ='服务器无响应，请检查您的服务器是否运行正常';\n                                this.alert.variant = 'danger';\n                                setTimeout(()=>{\n                                    this.alert.show=false;\n                                },5000)\n                            }\n                        })\n                    } \n                    // 添加\n                    else{\n                        this.addContact({\n                            contact:this.form,\n                            //添加成功产生的回调函数\n                            success:()=>{\n                                this.alert.show = true;\n                                this.alert.title ='添加成功';\n                                this.alert.variant = 'success';\n                                setTimeout(()=>{\n                                    this.alert.show=false;\n                                },5000)\n                            },\n                            error:(msg)=>{\n                                this.alert.show = true;\n                                this.alert.title ='服务器无响应，请检查您的服务器是否运行正常';\n                                this.alert.variant = 'danger';\n                                setTimeout(()=>{\n                                    this.alert.show=false;\n                                },5000)\n                            }\n                        });         \n                    }\n                    this.form = {\n                        id:'',\n                        first_name:'',\n                        last_name:'',\n                        email: '',\n                        description: '',\n                    }        \n                }\n            },\n            getContactByAxios(){\n                this.getContactById({\n                    id:this.id,\n                    //获取联系人成功后，执行回调函数\n                    success:(contact)=>{\n                        this.form = contact;                \n                    },\n                    error:(msg)=>{\n                        this.alert.show = true;\n                        this.alert.title ='服务器无响应，请检查您的服务器是否运行正常';\n                        this.alert.variant = 'danger';\n                        setTimeout(()=>{\n                            this.alert.show=false;\n                        },5000)\n                    }\n                });\n            },\n            onBack(){\n                this.$router.push('/contactsManage')\n            }\n        }\n    }\n</script>\n<style lang=\"less\">\n    .edit-container{\n        margin-top:60px;\n        .b-breadcrumb{\n            border-radius:0;\n            position:fixed;\n            top:56px;\n            right:0;\n            left:250px;\n            z-index:99;\n        }\n    }    \n</style>\n\n\n// WEBPACK FOOTER //\n// EditContact.vue?f8619dd4","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".edit-container{margin-top:60px}.edit-container .b-breadcrumb{border-radius:0;position:fixed;top:56px;right:0;left:250px;z-index:99}\", \"\", {\"version\":3,\"sources\":[\"/Users/zhangwei/Work/Github/contacts/src/pages/contactsManage/EditContact.vue\"],\"names\":[],\"mappings\":\"AACA,gBACE,eAAiB,CAClB,AACD,8BACE,gBAAiB,AACjB,eAAgB,AAChB,SAAU,AACV,QAAS,AACT,WAAY,AACZ,UAAY,CACb\",\"file\":\"EditContact.vue\",\"sourcesContent\":[\"\\n.edit-container {\\n  margin-top: 60px;\\n}\\n.edit-container .b-breadcrumb {\\n  border-radius: 0;\\n  position: fixed;\\n  top: 56px;\\n  right: 0;\\n  left: 250px;\\n  z-index: 99;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-342fdfb3\",\"scoped\":false,\"hasInlineConfig\":false}!./~/less-loader/dist/cjs.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/contactsManage/EditContact.vue\n// module id = 125\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-342fdfb3\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/less-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./EditContact.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"66bf0669\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-342fdfb3\",\"scoped\":false,\"hasInlineConfig\":false}!./~/less-loader/dist/cjs.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/contactsManage/EditContact.vue\n// module id = 132\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    staticClass: \"edit-container\"\n  }, [_c('b-breadcrumb', {\n    staticClass: \"b-breadcrumb\",\n    attrs: {\n      \"items\": _vm.items\n    }\n  }), _vm._v(\" \"), _c('section', {\n    staticClass: \"container\"\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-xl-5 col-lg-6 col-md-12 col-sm-12 col-12 mr-auto\"\n  }, [_c('b-alert', {\n    attrs: {\n      \"variant\": _vm.alert.variant,\n      \"show\": _vm.alert.show\n    }\n  }, [_vm._v(_vm._s(_vm.alert.title))]), _vm._v(\" \"), _c('b-card-group', {\n    attrs: {\n      \"deck\": \"\"\n    }\n  }, [_c('b-card', {\n    attrs: {\n      \"header\": \"联系人信息\",\n      \"header-tag\": \"header\"\n    }\n  }, [_c('b-form', {\n    on: {\n      \"submit\": _vm.onSubmit\n    }\n  }, [_c('b-form-group', {\n    attrs: {\n      \"label\": \"姓:\",\n      \"label-for\": \"firstName\"\n    }\n  }, [_c('b-form-input', {\n    attrs: {\n      \"id\": \"firstName\",\n      \"type\": \"text\",\n      \"state\": _vm.firstNameState,\n      \"placeholder\": \"输入姓\"\n    },\n    model: {\n      value: (_vm.form.first_name),\n      callback: function($$v) {\n        _vm.form.first_name = (typeof $$v === 'string' ? $$v.trim() : $$v)\n      },\n      expression: \"form.first_name\"\n    }\n  }), _vm._v(\" \"), _c('b-form-feedback', [_vm._v(\"\\n                                    请输入至少1个字符\\n                                \")])], 1), _vm._v(\" \"), _c('b-form-group', {\n    attrs: {\n      \"label\": \"名:\",\n      \"label-for\": \"lastName\"\n    }\n  }, [_c('b-form-input', {\n    attrs: {\n      \"id\": \"lastName\",\n      \"type\": \"text\",\n      \"state\": _vm.lastNameState,\n      \"placeholder\": \"输入名\"\n    },\n    model: {\n      value: (_vm.form.last_name),\n      callback: function($$v) {\n        _vm.form.last_name = (typeof $$v === 'string' ? $$v.trim() : $$v)\n      },\n      expression: \"form.last_name\"\n    }\n  }), _vm._v(\" \"), _c('b-form-feedback', [_vm._v(\"\\n                                    请输入至少1个字符\\n                                \")])], 1), _vm._v(\" \"), _c('b-form-group', {\n    attrs: {\n      \"label\": \"邮箱:\",\n      \"label-for\": \"email\"\n    }\n  }, [_c('b-form-input', {\n    attrs: {\n      \"id\": \"email\",\n      \"type\": \"email\",\n      \"state\": _vm.emailState,\n      \"placeholder\": \"输入邮箱\"\n    },\n    model: {\n      value: (_vm.form.email),\n      callback: function($$v) {\n        _vm.form.email = (typeof $$v === 'string' ? $$v.trim() : $$v)\n      },\n      expression: \"form.email\"\n    }\n  }), _vm._v(\" \"), _c('b-form-feedback', [_vm._v(\"\\n                                    邮箱输入不正确，请重新输入\\n                                \")])], 1), _vm._v(\" \"), _c('b-form-group', {\n    attrs: {\n      \"label\": \"简介:\",\n      \"label-for\": \"introduction\"\n    }\n  }, [_c('b-form-input', {\n    attrs: {\n      \"id\": \"introduction\",\n      \"state\": _vm.descriptionState,\n      \"placeholder\": \"输入简介\"\n    },\n    model: {\n      value: (_vm.form.description),\n      callback: function($$v) {\n        _vm.form.description = (typeof $$v === 'string' ? $$v.trim() : $$v)\n      },\n      expression: \"form.description\"\n    }\n  }), _vm._v(\" \"), _c('b-form-feedback', [_vm._v(\"\\n                                    请输入至少1个字符\\n                                \")])], 1), _vm._v(\" \"), _c('b-button', {\n    attrs: {\n      \"type\": \"submit\",\n      \"variant\": \"primary\"\n    }\n  }, [_vm._v(\"保存\")]), _vm._v(\" \"), _c('b-button', {\n    attrs: {\n      \"variant\": \"link\"\n    },\n    on: {\n      \"click\": _vm.onBack\n    }\n  }, [_vm._v(\"返回\")])], 1)], 1)], 1)], 1)])])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-342fdfb3\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/pages/contactsManage/EditContact.vue\n// module id = 140\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-342fdfb3\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditContact.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditContact.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-342fdfb3\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditContact.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/contactsManage/EditContact.vue\n// module id = 33\n// module chunks = 0"],"sourceRoot":""}